name: Curry
on:
  push:
    branches:
      - feature/curry

jobs:
  example:
    runs-on: ubuntu-20.04
    name: env
    steps:
      - name: echo env
        run: echo ${STAGE}
        env:
          STAGE: staging
  example-2:
    runs-on: ubuntu-18.04
    name: public-env
    env:
      DAY_OF_WEEK: Mon
    steps:
      - uses: actions/checkout@v2
        with:
          ref: master
      - name: "Hello world when it's Monday"
        if: ${{ env.DAY_OF_WEEK == 'Mon' }}
        run: |-
          echo "Hello $FIRST_NAME $middle_name $Last_Name, today is Monday"
          MESSAGE="$FIRST_NAME ||| $middle_name || $Lat_Name"
          echo ::set-output name=message::$MESSAGE
          git branch
          echo "DAY_OF_WEEK $DAY_OF_WEEK"
          expr 1 + 1 > output.log
        env:
          FIRST_NAME: Mona
          middle_name: The
          Last_Name: Octocat
        id: generator
      - name: "Ls"
        run: "ls -tlr"
      - name: set-outputer
        run: |-
          echo "Output: ${{ steps.generator.outputs.message }}"
      - name: Upload output file
        uses: actions/upload-artifact@v2
        with:
          name: output-log-file
          path: output.log
